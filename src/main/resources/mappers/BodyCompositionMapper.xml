<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.otd.otd_msa_back_life.body_composition.mapper.BodyCompositionMapper">


    <select id="findByLimitTo">
        SELECT created_at, device_type
        FROM body_composition
        WHERE user_id = #{userId}
        AND created_at BETWEEN #{startDate} AND #{endDate}
        <if test="deviceType != null and deviceType != ''">
            AND device_type = #{deviceType}
        </if>
        ORDER BY created_at DESC
        LIMIT #{startIdx}, #{size}
    </select>


</mapper>